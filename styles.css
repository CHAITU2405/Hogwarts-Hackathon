/* Hogwarts Hackathon 2025 Styles */
/* Theme Variables */
:root {
  --gold: #d4af37;
  --parchment: #f0e6d2;
  --bg-dark: #151515;
  --text-bright: #f5ecd0; /* primary readable body text */
  --text-bright-alt: #f9e7bc; /* headings/subtle highlights */
  --text-muted: #c9b998; /* secondary muted labels */
  --text-glow: #fff6d8; /* soft glow highlight */
}

* {
  box-sizing: border-box;
}

html, body {
  width: 100%;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
  background-color: var(--bg-dark);
  color: var(--text-bright);
  font-family: 'Crimson Text', serif;
  text-rendering: optimizeLegibility;
}

/* Content Wrapper */
#site-wrapper {
  position: relative;
  width: 100%;
  min-height: 100vh;
  background: radial-gradient(circle at center, #1f1f35 0%, #0a0a0a 100%), url('https://www.transparenttextures.com/patterns/stardust.png');
  background-attachment: fixed;
  transition: transform 0.2s ease;
  will-change: transform;
}

/* Screen Shake */
@keyframes screen-rotate-shake {
  0% { transform: scale(1) rotate(0deg); }
  20% { transform: scale(1.02) rotate(-2deg); }
  40% { transform: scale(1.02) rotate(2deg); }
  60% { transform: scale(1.02) rotate(-1deg); }
  80% { transform: scale(1.01) rotate(1deg); }
  100% { transform: scale(1) rotate(0deg); }
}
.shake-active #site-wrapper { animation: screen-rotate-shake 0.6s ease-out; }

/* Lighting Layer */
#ambient-light {
  position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
  pointer-events: none; z-index: 9990;
  background: radial-gradient(
    circle 350px at var(--x, 50%) var(--y, 50%),
    rgba(255,255,255,0.02) 0%,
    rgba(0,0,0,0.1) 30%,
    rgba(0,0,0,0.6) 100%
  );
  transition: opacity 1s ease;
  opacity: 0;
}
body.magic-on #ambient-light { opacity: 1; }
body.lumos-active #ambient-light { opacity: 0 !important; }

/* Layers */
#magic-viewport { position: fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:9995; overflow:hidden; }
#flash-overlay { position:fixed; top:0; left:0; width:100vw; height:100vh; background:#fff; z-index:9999; pointer-events:none; opacity:0; transition:opacity 0.5s ease-out; mix-blend-mode:overlay; }

/* Desktop Wand Settings */
@media (min-width: 992px) {
  *, html, body, a, button, input, label, select, .btn, .form-check-input { cursor: none !important; }
  #wand { display: flex !important; }
  #ambient-light { display: block !important; }
}

/* Wand */
#wand { position:fixed; top:0; left:0; width:10px; height:50px; pointer-events:none; z-index:10000; will-change:transform; transform-origin:top left; filter:drop-shadow(2px 2px 4px rgba(0,0,0,0.9)); flex-direction:column; align-items:center; display:none; }
#wand-tip { width:4px; height:4px; background:#fff; border-radius:50%; box-shadow:0 0 10px #fff, 0 0 20px var(--gold); z-index:2; margin-bottom:-1px; }
#wand-shaft { width:3px; height:60%; background:linear-gradient(to right,#5d4037,#8d6e63,#5d4037); border-radius:0 0 2px 2px; }
#wand-handle { width:8px; height:40%; background:repeating-linear-gradient(45deg,#2d2d2d,#1a1a1a 3px,#3a3a3a 3px,#2d2d2d 6px); border-radius:3px; position:relative; }

/* Effects */
.white-expansion-ring { position:absolute; border:4px solid #fff; border-radius:50%; transform:translate(-50%,-50%); box-shadow:0 0 40px #fff, inset 0 0 10px #fff; opacity:1; pointer-events:none; z-index:9997; animation:expand-smooth 0.6s ease-out forwards; }
@keyframes expand-smooth { 0% { width:0; height:0; opacity:1; border-width:8px; } 100% { width:250vmax; height:250vmax; opacity:0; border-width:0; } }

.cursor-trail { position:fixed; width:3px; height:3px; background:var(--gold); border-radius:50%; pointer-events:none; z-index:9999; animation:fade-trail 0.5s linear forwards; box-shadow:0 0 5px var(--gold); }
@keyframes fade-trail { 0%{opacity:0.8; transform:scale(1);} 100%{opacity:0; transform:scale(0.2) translate(0,10px);} }

@keyframes broomShine { 0% { filter:drop-shadow(0 0 5px #d4af37); } 100% { filter:drop-shadow(0 0 20px #ffd700) brightness(1.3); } }
.broom-instance { position:absolute; left:0; top:0; width:150px; height:auto; opacity:1; offset-rotate:auto; animation:broomShine 0.6s infinite alternate; }

.spell-bolt-container { position:absolute; left:0; top:0; offset-rotate:auto; }
.spell-bolt-core { width:120px; height:5px; background:linear-gradient(90deg, transparent 0%, var(--spell-color) 50%, #fff 100%); border-radius:100px; opacity:0.9; box-shadow:0 0 25px var(--spell-color); position:relative; }
.spell-bolt-core::after { content:''; position:absolute; right:0; top:-2.5px; width:10px; height:10px; background:#fff; border-radius:50%; box-shadow:0 0 20px #fff; }

.shockwave-ring { position:absolute; border:3px solid #fff; border-radius:50%; transform:translate(-50%,-50%); box-shadow:0 0 30px var(--color); animation:expand-ring 0.5s ease-out forwards; }
@keyframes expand-ring { to { width:150px; height:150px; opacity:0; border-width:0; } }

.magic-sprinkle { position:absolute; width:4px; height:4px; background:#fff; border-radius:50%; box-shadow:0 0 8px var(--color); pointer-events:none; z-index:9999; animation:sprinkle-fall 1.2s cubic-bezier(0.1,1,0.5,1) forwards; }
@keyframes sprinkle-fall { 0% { transform:translate(0,0) scale(1); opacity:1; } 100% { transform:translate(var(--tx), var(--ty)) scale(0); opacity:0; } }

/* UI Styles */
.title-decoration-container { position:relative; display:inline-block; }
.title-decoration { position:absolute; top:-50px; left:50%; transform:translateX(-50%); width:80px; height:auto; z-index:1; filter:drop-shadow(0 0 10px var(--gold)); animation:subtle-float 3s ease-in-out infinite; }
@keyframes subtle-float { 0%,100% { transform:translateX(-50%) translateY(0); } 50% { transform:translateX(-50%) translateY(-10px); } }

.harry-potter-title { font-family:'Cinzel Decorative','Cinzel',serif; font-weight:900; text-transform:uppercase; line-height:1; color:#ffd700; filter:url(#gold-texture); font-size:6rem; position:relative; z-index:2; display:inline-block; }
@media (max-width: 768px) { .harry-potter-title { font-size:3rem; } .title-decoration { width:50px; top:-30px; } }

.navbar { background-color:rgba(10,10,10,0.9); border-bottom:1px solid rgba(212,175,55,0.3); padding:1rem 0; z-index:100; backdrop-filter:blur(10px); }
.navbar-brand, .nav-link { font-family:'Cinzel Decorative','Cinzel',serif; color:var(--gold); transition:0.3s; }
.nav-link:hover { color:#fff; text-shadow:0 0 15px var(--gold); }

.form-check-input { background-color:#333; border-color:#666; width:3em; height:1.5em; }
.form-check-input:checked { background-color:var(--gold); border-color:var(--gold); }
.form-check-label { font-family:'Cinzel Decorative','Cinzel',serif; color:var(--gold); margin-left:8px; padding-top:2px; }

.hero-section { min-height:90vh; display:flex; align-items:center; justify-content:center; text-align:center; padding-top:80px; position:relative; }
.timer-container { display:flex; justify-content:center; gap:20px; margin:30px auto; padding:25px; background:rgba(0,0,0,0.6); border:1px solid var(--gold); border-radius:15px; backdrop-filter:blur(5px); max-width:600px; box-shadow:0 0 30px rgba(212,175,55,0.2); position:relative; z-index:10; }
.time-val { font-family:'Cinzel Decorative','Cinzel',serif; font-size:2.5rem; color:var(--gold); text-shadow:0 0 10px var(--gold); }
.time-label { text-transform:uppercase; letter-spacing:2px; color:#aaa; }
.time-label { color: var(--text-muted); }

.btn-magic { border:2px solid var(--gold); color:var(--gold); font-family:'Cinzel Decorative','Cinzel',serif; padding:15px 40px; font-size:1.2rem; background:rgba(0,0,0,0.4); transition:0.4s; margin-top:30px; display:inline-block; z-index:10; position:relative; overflow:hidden; }
.btn-magic:hover { background:var(--gold); color:#000; box-shadow:0 0 50px var(--gold); }

.house-section { padding:80px 0; position:relative; z-index:2; background:rgba(20,20,20,0.9); border-top:1px solid #333; flex-grow:1; }
.card { height:100%; transition:0.3s; background:rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.05); backdrop-filter:blur(10px); color: var(--text-bright); }
.card:hover { transform:translateY(-10px); border-color:var(--gold); box-shadow:0 10px 40px rgba(212,175,55,0.2); background:rgba(255,255,255,0.08); }
.border-gryffindor { border-top:4px solid #740001; }
.border-slytherin { border-top:4px solid #1a472a; }
.border-ravenclaw { border-top:4px solid #0e1a40; }
.border-hufflepuff { border-top:4px solid #ecb939; }

h4 { font-family:'Cinzel Decorative','Cinzel',serif; color:var(--gold); }
footer { padding:40px; text-align:center; border-top:1px solid var(--gold); background:#0a0a0a; position:relative; z-index:10; color:var(--text-muted); }

/* Bright text utility for any element still dim */
.bright-text, h4, .navbar-brand, .nav-link { color: var(--text-bright-alt) !important; }

/* Enhance main title readability without overpowering */
.harry-potter-title { color: var(--text-bright-alt); text-shadow: 0 0 12px rgba(255,214,122,0.4), 0 0 30px rgba(255,220,140,0.25); }

/* Slight glow for labels using gold accent */
.form-check-label, .time-val { text-shadow: 0 0 6px rgba(255,240,180,0.3); }

